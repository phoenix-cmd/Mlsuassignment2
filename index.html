<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fun English Learning</title>

<style>
/* ========= GLOBAL ========= */
body {
    margin: 0;
    font-family: "Comic Sans MS", "Poppins", sans-serif;
    background: linear-gradient(#87CEEB, #FFFACD);
    text-align: center;
}

.hidden { display: none; }

h1, h2 {
    color: #2e7d32;
}

button {
    padding: 15px 30px;
    font-size: 20px;
    border-radius: 20px;
    border: none;
    background: #4CAF50;
    color: white;
    cursor: pointer;
}

button:hover {
    background: #388e3c;
}

/* ========= ANIMATIONS ========= */
@keyframes fade {
    from { opacity: 0; }
    to { opacity: 1; }
}

@keyframes correct {
    0% { transform: scale(1); }
    50% { transform: scale(1.2); }
    100% { transform: scale(1); }
}

@keyframes wrong {
    0% { transform: translateX(0); }
    25% { transform: translateX(-10px); }
    50% { transform: translateX(10px); }
    100% { transform: translateX(0); }
}

/* ========= WELCOME ========= */
#welcome {
    height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    animation: fade 1s;
}

input {
    padding: 15px;
    font-size: 20px;
    border-radius: 15px;
    border: 2px solid #4CAF50;
    width: 260px;
    margin: 15px auto;
}

/* ========= CHAPTER LIST ========= */
.chapter {
    background: white;
    margin: 15px auto;
    padding: 20px;
    border-radius: 20px;
    max-width: 420px;
    font-size: 22px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
}

.locked {
    background: #cfcfcf;
    color: #666;
}

/* ========= LESSON ========= */
.option {
    background: #ffeb3b;
    margin: 10px auto;
    padding: 15px;
    border-radius: 15px;
    font-size: 22px;
    max-width: 300px;
    cursor: pointer;
}

.option.correct {
    background: #4CAF50;
    color: white;
    animation: correct 0.5s;
}

.option.wrong {
    background: #f44336;
    color: white;
    animation: wrong 0.4s;
}
</style>
</head>

<body>

<!-- ========= WELCOME SCREEN ========= -->
<div id="welcome">
    <h1>üåü Fun English Learning üåü</h1>
    <p style="font-size:22px;">Enter your name to start</p>
    <input type="text" id="nameInput" placeholder="Your name">
    <button onclick="startApp()">Start</button>
</div>

<!-- ========= MAIN APP ========= -->
<div id="app" class="hidden">
    <h2 id="studentName"></h2>

    <div id="chapterList"></div>

    <div id="lesson" class="hidden">
        <h2 id="question"></h2>
        <div id="options"></div>
        <button id="nextBtn" class="hidden" onclick="nextQuestion()">Next ‚û°Ô∏è</button>
    </div>
</div>

<script>
/* ========= DATA ========= */
const chapters = [
{
    title: "Alphabet & Phonics",
    questions: [
        { q: "Which letter makes the /b/ sound?", o: ["A", "B", "C"], a: "B" },
        { q: "Which letter comes after A?", o: ["B", "C", "D"], a: "B" }
    ]
},
{
    title: "Simple Words",
    questions: [
        { q: "Which word matches üê± ?", o: ["Dog", "Cat", "Ball"], a: "Cat" },
        { q: "Which word matches ‚òÄÔ∏è ?", o: ["Sun", "Hat", "Cup"], a: "Sun" }
    ]
},
{
    title: "Simple Sentences",
    questions: [
        { q: "Choose the correct sentence:", o: ["I happy am", "I am happy", "Happy I am"], a: "I am happy" },
        { q: "Choose the correct sentence:", o: ["She is running", "She running is", "Running she is"], a: "She is running" }
    ]
}
];

let currentChapter = 0;
let currentQuestion = 0;

/* ========= START ========= */
function startApp() {
    const name = nameInput.value.trim();
    if (!name) return alert("Please enter your name");

    localStorage.setItem("student", name);
    document.getElementById("welcome").classList.add("hidden");
    document.getElementById("app").classList.remove("hidden");

    currentChapter = Number(localStorage.getItem("progress")) || 0;
    studentName.innerText = `Welcome, ${name}! üéâ`;
    loadChapters();
}

/* ========= LOAD CHAPTERS ========= */
function loadChapters() {
    chapterList.innerHTML = "";
    chapters.forEach((c, i) => {
        const div = document.createElement("div");
        div.className = "chapter";

        if (i > currentChapter) {
            div.classList.add("locked");
            div.innerText = `${c.title} üîí`;
        } else {
            div.innerHTML = `${c.title}<br><br><button onclick="startChapter(${i})">Start</button>`;
        }
        chapterList.appendChild(div);
    });
}

/* ========= START CHAPTER ========= */
function startChapter(index) {
    currentQuestion = 0;
    lesson.classList.remove("hidden");
    loadQuestion();
}

/* ========= LOAD QUESTION ========= */
function loadQuestion() {
    nextBtn.classList.add("hidden");
    options.innerHTML = "";

    const q = chapters[currentChapter].questions[currentQuestion];
    question.innerText = q.q;

    q.o.forEach(opt => {
        const div = document.createElement("div");
        div.className = "option";
        div.innerText = opt;
        div.onclick = () => checkAnswer(div, opt);
        options.appendChild(div);
    });
}

/* ========= CHECK ANSWER ========= */
function checkAnswer(el, selected) {
    const correct = chapters[currentChapter].questions[currentQuestion].a;

    if (selected === correct) {
        el.classList.add("correct");
        setTimeout(() => nextBtn.classList.remove("hidden"), 500);
    } else {
        el.classList.add("wrong");
        setTimeout(() => el.classList.remove("wrong"), 400);
    }
}

/* ========= NEXT ========= */
function nextQuestion() {
    currentQuestion++;
    if (currentQuestion < chapters[currentChapter].questions.length) {
        loadQuestion();
    } else {
        currentChapter++;
        localStorage.setItem("progress", currentChapter);
        lesson.classList.add("hidden");
        loadChapters();
    }
}
</script>

</body>
</html>
